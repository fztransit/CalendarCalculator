# 输入输出
## 时间输入
输入的时间，程序默认为UTC+8h；程序输出的时间，若无提示，也都是UTC+8h。
### 年
直接数字表示年份，以“-”表示公元前，公元前104年即输入“-104”。
无公元0年，输入0软件会自动转为1作为输入。
### 日期
可以“/”或“-”分隔年月日，如“-104/1/1”或“-104-1-1”
### 时间
以" "分隔日期和时间，以“:”分隔时分秒，如“-104/1/1 08:00:00”
### 年限
用“*”连接两个年份，如“-104\*111”，支持年限输入的功能会计算从-104至111年之间的每一年。
## 输出文本框
### 右键
支持右键，有基本复制、粘贴等功能。
### 一键复制
点击输出文本框下的“复制全部”按钮，即可复制文本框内全部内容到剪切板。
### 文本框下拉
默认关闭文本框的垂直滚动条，可通过鼠标滚轮上下滑动文本框。或勾选文本框下的“显示滚动条”，当输出内容超过文本框高度时，会自动显示滚动条。

<br><br>

# 软件发布与更新
## 检查更新
### 手动检查
点击输出文本框下方的“检查更新”按钮，会弹出提示，即使没有更新，也会提示当前版本。
### 软件发布
软件发布地址：https://github.com/fztransit/CalendarCalculator/releases。若长期检查无更新，可能是无法获取更新，可以前往该地址查看。直接下载.exe文件，其他不用下载。

<br><br>

# 快捷工具
输入文本框都支持回车输出。根据输入内容识别输出项。
## 年号查询与纪年转换
输入单一年份，如-104，仅输出当年年号；
输入朝代，如“唐”，输出唐朝的全部年号。
输入年限，如“222*333”，输出这段时间范围内的全部年号。
## 儒略日与公历转换
### 儒略日
#### 儒略日转公历
输入数字默认识别为儒略日，输出公历日期。
#### 公历转儒略日
按格式输入公历日期，输出儒略日。
### 日期差
以“\*”表示减号，以区别表示公元前的负号。格式为“日*日”。*左侧日期必须大于右侧日期。
#### 儒略日*儒略日
输入“2451545*2451455”，识别为两个儒略日相减。
#### 公历日期*公历日期
输入“2024/5/3*2000/1/1”，识别为两个日期相减。
#### 公历日期*数字
输入“2024/5/3*15”，计算该日期的15天前的公历日期。
#### 公历日期+数字
输入“2024/5/3*15”，计算该日期的15天后的公历日期。
## 恒星时与太阳时
### 恒星时
输入平太阳时，点击“恒星时”按钮，输出恒星时。恒星时有地方性，此项计算会读取“天文计算”模块下的地区经纬度，可自行填写。
### 平太阳时转真太阳时
输入平太阳时，单击“太阳时”按钮，输出真太阳时。
### 真太阳时转平太阳时
输入真太阳时，右击“太阳时”按钮，输出平太阳时。
## 简易计算器
### 度分秒与度数转换
#### 度数转度分秒
输入数字，点击“度分秒”，输出度分秒。
#### 度分秒转度数
输入度分秒，点击“度分秒”，输出度数。
度分秒输入格式为“°′″”，需要严格使用符号才能识别。如“32°15′42″”。
### 时分秒与度数转换
#### 度数转时分秒
输入数字，点击“时分秒”，输出时分秒。
#### 时分秒转度数
输入时分秒，点击“时分秒”，输出度数。
时分秒输入格式为“hms”，需要严格使用符号才能识别。如“7h3m18s”。
### 文本框回车
#### 基本运算符
输入计算式后直接回车计算。分别使用“+-*/%”表示“加减乘除求余”运算符。如输入“15/3”回车即可计算除法。
#### 计算函数
支持Python的math库相关计算函数。如求最大公约数，即输入“math.gcd(15, 3)”，回车后计算。
## 已知干支和年限求可能的日期
在“输入干支”中输入干支，在“年份范围”中输入年限。在列表中选择相应的“年、朔、望”等，表示查找指定范围内年干支（或朔干支等）为输入值的相应结果。其中朔望等为现代天文学所求结果（古代不同历法可能不同）。
## 已知历日和朔日求月内日期
### 已知朔合历日求日期
史料中常记“干支1朔……干支2……”，即可将干支1输入到“朔日干支”中，将干支2输入到“历日干支中”，点击“日期”，即可计算干支2在以干支1为朔的该月中哪一天。点击“月历”，还可输出一干支1为朔的该月每日干支表。
### 已知历日日期求朔
如史料中有“十五日甲子”，则将“甲子15”，输入到“历日干支”中（计算此项不需要填写朔日工作），点击“朔”即可计算。
## 求指定年代范围内的日月食
此项仅计算全球范围内的日月食。
只输入年限不输入干支，则输出该范围内所有日月食。
输入年限和干支，则输出该范围内符合该干支的日月食。

# 步中朔
此部分主要计算各历法每年朔闰、节气等。
“天正朔”按钮上方的勾选框默认勾选，勾选状态下从右侧列表中选取历法进行计算。取消勾选状态下将从上方选项卡中选取勾选的历法进行计算。
## 说明
单击“说明”按钮，会输出选取历法的基本信息，如朔望月、回归年长度等。
右击“说明”按钮，会输出使用帮助。
## 年份或年号
支持输入数字表示年份，或输入详细年号（年号需要输入完整才能判定对应的公元纪年，如“汉武帝太初元年”）。输入年号后文本框下方的“古历窗口”四个字位置会变成显示年号对应的公元纪年。
## 万年历
点击“万年历”，会打开新窗口，内容排版等和常见的万年历相似。
## 古历
### 窗口介绍
点击“古历”按钮，会打开新窗口，按古历特征，排版为三行十列。
选取“古历”页面中具体日期，会在下方显示该日期详细信息。
### 输入跳转
#### 年
文本框“输入年号或公历查找”支持输入数字表示公元纪年，或输入完整年号。输入后回车即可跳转到相应年。如果某年有多个朝代。则默认跳转的当前朝代的该年。
#### 日期
输入公历日期，支持用“.”分隔年月日，如“1111.1.1”，回车后即可跳转到相应日期。
输入年号月日，如“唐高祖武德元年正月一日”，也可以跳转到相应日期。此项输入年月日等需完整，否则无法跳转。日期支持干支输入，如“唐高祖武德元年四月甲子”，该月无甲子，会自动跳转到相邻的三月甲子。
### 功能使用
点击“当前”单选按钮，会切换为“全部”，此时若所选存在并立政权，会显示并立政权所使用的历法作为对比。
点击“更多”按钮，会显示当前年的每月朔闰。
上方朝代、年号等列表支持将光标放到相应列表时，使用鼠标滚轮滚动，勾选“连续滚动”，可以一直上下滚动。取消勾选后，会卡在前一个列表所限定的时间内容。如年号选择“太初元年”后，滚动月份列表，只能在该年正月到十二月之间滚动。勾选后，滚动到十二月继续向下滚动，会跳转到下一年。
“月份表截断”同理，有些年号只使用到年中，导致该年月份不全，勾选后滚动可以跳到上一个或下一个年号。

# 天文计算
## 输入时间
支持年、日期、完整时间输入。只输入年的情况下，一般相关计算会从“太阳”节气列表中取值，以所选节气作为时间输入。
## 经纬
地理坐标经纬度。可以自行填写，或从下方地区列表中选取。
## 出没、经纬度
从“星宿”到“恒星”，每行都有相应的“晨昏”、“经”、“纬”按钮，从上方的“赤道坐标/黄道坐标”选取相应的坐标，从“今度表示/古度表示”选取相应的度数表示方法，点击计算会计算对应天体的出没或经纬度（含入宿度、去极度）。
## 昏旦中星
在列表中选择太阳在地平线下位置，点击相应按钮，计算昏旦时中天恒星。
## 中星年代
此项可以在已知中天恒星的情况下计算该天象的年代，如《尧典》四仲中星。计算此项需已知的信息较多，包括输入估算年、太阳节气列表中选取相应节气、昏旦中星列表中选择太阳在地平线下位置、星宿表中选取已经的中天恒星（如不在星宿表在，则在恒星表中选取，此时需要勾选“日在”左侧的勾选框才从恒星表取值），最后在“入宿度”文本框中输入数字作为入宿度（不输入默认为0）。

# 步七政
## 日月
### 日躔
无需填写任何，选择相应历法后，在太阳节气列表中选取相应节气，计算气内每日日躔表。如选择“全年节气”，则输出二十四气日躔表。
### 月离
无需填写任何，选择相应历法即可输出月离表。
### 定气
无需填写任何，选择相应历法即可输出每节气定气长度。
### 去极
在太阳节气列表中选取相应节气，计算气内每日去极度表。如选择“全年节气”，则输出二十四气去极度表。
## 交食
点击“概略”后输出相应历法所计算的该年交食信息，并将交食添加到列表中，选取相应约分的日月食，点击“详情”按钮，即可输出该次交食的详细信息。
## 晷漏
### 漏刻
在太阳节气列表中选取相应节气，计算气内每日漏刻表。如选择“全年节气”，则输出二十四气漏刻表。
### 晨昏
在太阳节气列表中选取相应节气，计算气内每日晨昏表。如选择“全年节气”，则输出二十四气晨昏表。
### 出入
在太阳节气列表中选取相应节气，计算气内每日太阳出没表。如选择“全年节气”，则输出二十四气太阳出没表。
### 晷影
在太阳节气列表中选取相应节气，计算气内每日晷影表。如选择“全年节气”，则输出二十四气太阳晷影表。
## 星度
### 昏旦
在太阳节气列表中选取相应节气，计算气内每日昏旦去中度表。如选择“全年节气”，则输出二十四气昏旦去中度表。
### 合辰
输入年月，如“-104/1”，即可计算相应月份合朔时日月位置。仅输入年份时默认计算一月。
### 位置
勾选日月五星，计算相应天体经纬度。
### 五星
暂只更新三统历相关计算
### 天象
输出现代天文学计算的合日、冲日等，其中月掩星默认只计算月掩行星，勾选恒星后，多计算“角宿一、心宿二、毕宿五、北河三、轩辕十四”五星。

# 常用表
## 干支表
单击“干支表”，甲子从0起计。右击“干支表”，甲子从1起计。
## 节气表
可选择“天文计算”模块下的“赤道坐标/黄道坐标”及“今度表示/古度表示”，输出相应结果。
## 星次表
仅输出《汉书·律历志》中星次表。
## 岁星表
岁星等对照表。